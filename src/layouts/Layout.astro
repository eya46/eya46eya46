---
import GoogleAnalytics from "../components/GoogleAnalytics.astro";
import GitHash from "../components/GitHash.astro";
import Version from "../components/Version.astro";
import { Avatar } from "../icons";
import FooterDiv from "../components/FooterDiv.astro";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta content="eya46的主页" name="description" />
    <meta content="width=device-width" name="viewport" />
    <link href={Avatar.src} rel="icon" type="image/svg+xml" />
    <meta content={Astro.generator} name="generator" />
    <title>{title}</title>
  </head>
  <body class="bg-gradient-animated">
    <GoogleAnalytics />
    <main class="max-width mx-auto bg-gray-200/50 p-4">
      <slot />
    </main>
    <footer class="my-1 w-full">
      <FooterDiv>
        <a class="text-gray-500 hover:underline" href="https://beian.miit.gov.cn/" target="_blank">
          湘ICP备2023033688号-1
        </a>
        <a class="text-gray-500 hover:underline" href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">
          苏公网安备32058302004987号
        </a>
        <a class="text-gray-500 hover:underline" href="https://icp.gov.moe/?keyword=eya46.com" target="_blank">
          萌ICP备20228855号
        </a>
      </FooterDiv>
      <FooterDiv>
        <a class="text-gray-500 hover:underline" href="/test"> 测试页 </a>
        <a
          class="text-gray-500 hover:underline"
          href="https://travel.moe/go.html?travel=on"
          target="_blank"
          title="异次元之旅-跃迁-我们一起去萌站成员的星球旅行吧！"
        >
          异次元之旅
        </a>
        <a class="text-gray-500 hover:underline" href="https://github.com/eya46/eya46eya46" target="_blank">
          项目主页
        </a>
        <a class="text-gray-500 hover:underline" href="https://uptime.eya46.com/status/index" target="_blank">
          Uptime
        </a>
        <span class="flex items-center space-x-0.5 text-gray-500 select-none">
          <span class="inline-block">🔖</span>
          <span class="inline-block">
            <Version />
            ( <GitHash /> )
          </span>
        </span>
      </FooterDiv>
      <FooterDiv>
        <span>
          © 2020 - {new Date().getFullYear()} eya46 All rights reserved
        </span>
      </FooterDiv>
    </footer>
  </body>

  <style is:global>
    @import "tailwindcss";

    .max-width {
      max-width: calc(100% - 2rem);
    }

    html {
      font-family: system-ui, sans-serif;
      min-width: 25rem;
    }

    main {
      width: 50rem;
      font-size: 20px;
      line-height: 1.6;
      min-height: calc(100vh - 4.5rem);
    }

    @keyframes gradient {
      0% {
        background-position: 0 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0 50%;
      }
    }

    .bg-gradient-animated {
      background: linear-gradient(270deg, #f38181, #fce38a, #eaffd0, #95e1d3);
      background-size: 600% 600%;
      animation:
        gradient 20s ease-in-out infinite,
        rotate 10s linear infinite;
    }
  </style>
</html>
